@model BankApp.Application.Customers.Queries.GetIndexStatistics.IndexStatisticsViewModel
@using System.Globalization
@using Microsoft.AspNetCore.Authorization
@inject IAuthorizationService AuthorizationService

<div class="row">
    <div class="col s12 center">
        @if ((await AuthorizationService.AuthorizeAsync(User, "Cashier")).Succeeded)
        {
            {
                ViewData["Title"] = "SBS Bank statistics";
            }

            <div class="col s12">
                <div class="row">
                    <div class="col m3"></div>
                    <div class="col m6"><hr /></div>
                    <div class="col m3"></div>
                </div>
            </div>
            <div class="col s12">
                <h4>Customers: @Model.NumberOfCustomers</h4>
            </div>
            <div class="col s12">
                <h4>Accounts: @Model.NumberOfAccounts</h4>
            </div>
            <div class="col s12">
                <h4>Total balance: @Model.TotalBalance.Value.ToString("C", CultureInfo.CurrentCulture)</h4>
            </div>

        }
        else if ((await AuthorizationService.AuthorizeAsync(User, "Admin")).Succeeded)
        {
            {
                ViewData["Title"] = "SBS Bank Admin";
            }
            <div class="col s12">
                <a asp-route="user_list" class="waves-effect waves-light btn">Manage employees</a>
                <a asp-route="user_register" class="waves-effect waves-light btn">Register employee</a>
            </div>
        }
    </div>
</div>
