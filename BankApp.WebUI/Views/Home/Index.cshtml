@model BankApp.Application.Customers.Queries.GetIndexStatistics.IndexStatisticsViewModel
@using System.Globalization
@using Microsoft.AspNetCore.Authorization
@inject IAuthorizationService AuthorizationService

<div class="row">
    <div class="col s12 center">
        @if ((await AuthorizationService.AuthorizeAsync(User, "Cashier")).Succeeded)
        {
            <div class="col s12">
                <h2>SBS Bank statistics</h2>
                <div class="row">
                    <div class="col m3"></div>
                    <div class="col m6"><hr /></div>
                    <div class="col m3"></div>
                </div>
            </div>
            <div class="col s12">
                <h4>Customers: @Model.NumberOfCustomers</h4>
            </div>
            <div class="col s12">
                <h4>Accounts: @Model.NumberOfAccounts</h4>
            </div>
            <div class="col s12">
                <h4>Total balance: @Model.TotalBalance.Value.ToString("C", CultureInfo.CurrentCulture)</h4>
            </div>
        }
        else if ((await AuthorizationService.AuthorizeAsync(User, "Admin")).Succeeded)
        {
            <div class="col s12 center">
                <h2>SBS Bank Admin</h2>
            </div>
        }
    </div>
</div>
